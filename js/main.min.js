"use strict";

// ---
// Function to toggle forms
function toggleForms(formId) {
  var forms = Array.from(document.querySelectorAll('form'));
  forms.forEach(function (form) {
    form.classList.toggle('d-none', form.id !== formId);
  });
}

// ---
// Function for class management at the gender selection buttons
function toggleGenderButtonActive(buttonId) {
  var femaleButton = document.getElementById('female-btn');
  var maleButton = document.getElementById('male-btn');
  femaleButton.classList.toggle('form-dates--active', buttonId === 'female-btn');
  maleButton.classList.toggle('form-dates--active', buttonId === 'male-btn');
}

// ---
//Navigation
;
(function () {
  var body = document.body;
  var menuButton = document.querySelector('.menu__btn');
  var menuList = document.querySelector('.menu__list');
  menuButton.addEventListener('click', function (e) {
    var expanded = menuButton.getAttribute('aria-expanded') === 'true';
    menuButton.setAttribute('aria-expanded', !expanded);
    menuList.classList.toggle('active');
  });

  // Remove the toggled class and set aria-expanded to false when the user clicks outside the navigation.
  document.addEventListener('click', function (e) {
    if (!menuButton.contains(e.target) && !menuList.contains(e.target)) {
      menuButton.setAttribute('aria-expanded', false);
      menuList.classList.remove('active');
    }
  });
})()

// ---
//Form-dates for calculate on home page
;
(function () {
  var calculateBtn = document.getElementById('calculate-btn');
  var genderButtonsContainer = document.getElementById('form-personal');
  if (!genderButtonsContainer) {
    return;
  }
  genderButtonsContainer.addEventListener('click', function (event) {
    // Проверяем, что клик был на кнопке выбора пола
    if (event.target.matches('#female-btn') || event.target.matches('#male-btn')) {
      // Получаем идентификатор кнопки
      var buttonId = event.target.id;

      // Вызываем функцию для управления классами у кнопок выбора пола
      toggleGenderButtonActive(buttonId);
    }
  });
  var formSection = document.querySelector('.form');
  formSection.addEventListener('click', function (event) {
    var personalButton = document.getElementById('personal');
    var compatibilityButton = document.getElementById('compatibility');
    if (event.target.matches('#personal') || event.target.matches('#compatibility')) {
      var formId = event.target.getAttribute('data-form');
      toggleForms(formId);
      if (formId === 'form-personal') {
        personalButton.setAttribute('aria-expanded', 'true');
        personalButton.classList.add('form-dates--active');
        compatibilityButton.setAttribute('aria-expanded', 'false');
        compatibilityButton.classList.remove('form-dates--active');
      } else {
        personalButton.setAttribute('aria-expanded', 'false');
        personalButton.classList.remove('form-dates--active');
        compatibilityButton.setAttribute('aria-expanded', 'true');
        compatibilityButton.classList.add('form-dates--active');
      }
      event.stopPropagation();
    }
  });
})()

// Form Login and Registration
;
(function () {
  var formSection = document.querySelector('.form-login-registration');
  console.log(formSection);
  formSection.addEventListener('click', function (event) {
    var loginButton = document.getElementById('login');
    var registrationButton = document.getElementById('registration');
    if (event.target.matches('#login') || event.target.matches('#registration')) {
      var formId = event.target.getAttribute('data-form');
      toggleForms(formId);
      if (formId === 'form-login') {
        loginButton.setAttribute('aria-expanded', 'true');
        loginButton.classList.add('form-login-registration--active');
        registrationButton.setAttribute('aria-expanded', 'false');
        registrationButton.classList.remove('form-login-registration--active');
      } else {
        loginButton.setAttribute('aria-expanded', 'false');
        loginButton.classList.remove('form-login-registration--active');
        registrationButton.setAttribute('aria-expanded', 'true');
        registrationButton.classList.add('form-login-registration--active');
      }
      event.stopPropagation();
    }
  });
});
//# sourceMappingURL=main.min.js.map